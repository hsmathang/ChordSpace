{
  "QUERY_DYADS_TT_P5_PLUS_RANDOM": "WITH tritone AS (\nSELECT *\nFROM chords\nWHERE array_length(notes, 1) = 2\nAND interval = ARRAY[6]\nAND ('x' || notes[1])::bit(32)::int = 0\n),\nfifths AS (\nSELECT *\nFROM chords\nWHERE array_length(notes, 1) = 2\nAND interval = ARRAY[7]\nAND ('x' || notes[1])::bit(32)::int = 0\n),\nrandom_dyads AS (\nSELECT *\nFROM chords\nWHERE array_length(notes, 1) = 2\nAND (SELECT SUM(i) FROM unnest(interval) AS i) <= 12\nAND id NOT IN (SELECT id FROM tritone UNION SELECT id FROM fifths)\nORDER BY RANDOM()\nLIMIT 60\n)\nSELECT * FROM tritone\nUNION\nSELECT * FROM fifths\nUNION\nSELECT * FROM random_dyads\nORDER BY id;",
  "QUERY_SEVENTHS_CORE": "WITH seventh_catalog(quality, intervals) AS (\n    VALUES\n        ('7', ARRAY[4,3,3]::integer[]),\n        ('m7', ARRAY[3,4,3]::integer[]),\n        ('Maj7', ARRAY[4,3,4]::integer[]),\n        ('m7b5', ARRAY[3,3,4]::integer[]),\n        ('Dim7', ARRAY[3,3,3]::integer[])\n),\nranked AS (\n    SELECT\n        c.id, c.n, c.interval, c.notes, c.bass, c.octave, c.frequencies,\n        c.chroma, c.tag, c.code,\n        seventh_catalog.quality,\n        c.notes[1] AS root,\n        ROW_NUMBER() OVER (\n            PARTITION BY seventh_catalog.quality, c.notes[1]\n            ORDER BY c.octave, c.id\n        ) AS rn\n    FROM chords c\n    JOIN seventh_catalog ON c.interval = seventh_catalog.intervals\n    WHERE c.n = 4\n)\nSELECT *\nFROM ranked\nWHERE rn = 1\nORDER BY quality, root;"
}